webpackJsonp([15],{"NL/D":function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:Sofia;background-color:linear-gradient(180deg,#1e5799 0,#7db9e8);color:#fff;margin:0;padding:0;border:none;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bone-parts{padding:5px;position:relative;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.bone-parts,.bone-parts img{display:-webkit-box;display:-ms-flexbox;display:flex}.bone-parts img{pointer-events:none}.half{zoom:50%}.bone-mask{blend-mode:darken;top:0;left:0;width:100%;height:100%;background:#11619e;display:relative;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:initial;mask-size:auto;opacity:0;-webkit-mask-repeat:no-repeat;mix-blend-mode:hard-light}#boneName,.bone-mask{position:absolute;pointer-events:none}#boneName{color:#fff;font-family:Sofia;line-height:1;top:120px;width:25%;text-align:center;z-index:100;right:20px;display:block;font-size:80px;font-weight:700;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#bonemap{position:absolute;bottom:0;left:0;width:100%;height:225px;background-color:rgba(0,0,0,.3);display:block;z-index:2;padding:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:wrap;flex-wrap:wrap;font-size:0}#boneName a{color:red;font-weight:700;text-decoration:underline;cursor:pointer}#glFullscreen{width:100%;height:100vh;min-width:640px;min-height:360px;position:relative;overflow:hidden;z-index:0}#example{width:100%;height:100%;top:0;left:0}#feedback{color:#ff8c00;font-size:12px}#dat{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;left:0;top:0;z-Index:200}.disabled{pointer-events:none}",""])},Peq9:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container",attrs:{"data-current":e.current}},[o("div",{staticClass:"top-nav"},[o("ul",[o("li",[o("nuxt-link",{attrs:{to:"/",exact:""}},[o("i",{staticClass:"material-icons"},[e._v("home")])])],1)])]),o("nuxt-link",{attrs:{to:"/history"}},[o("div",{staticClass:"back-button nav-button"},[o("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_left")])])]),e._m(0),o("div",{attrs:{id:"dat"}}),e._m(1),o("div",{attrs:{id:"boneInfo"}}),o("div",{attrs:{id:"bonemap"}},e._l(e.bones,function(t,a,n){return o("div",{staticClass:"bone-parts",attrs:{"data-bone":a.replace(" ","_")},on:{mousedown:e.boneMouseDown,touchstart:e.boneMouseDown}},[o("img",{class:t.sizeClass,attrs:{id:"map_skull",src:"/images/kruzof/bones/"+a.toLowerCase()+".png"}}),o("div",{staticClass:"bone-mask",style:"-webkit-mask-image:url(/images/kruzof/bones/"+a.toLowerCase()+".png)"})])})),o("script",{attrs:{type:"text/javascript",src:"../js/kruzof.js"}})],1)};a._withStripped=!0;var n={render:a,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"glFullscreen"}},[t("canvas",{attrs:{id:"example"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"boneName"}},[this._v("\n    Kruzof\n    "),t("div",{attrs:{id:"feedback"}})])}]};t.a=n},QR71:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("nBVx"),n=o("Peq9"),r=!1;var i=function(e){r||o("jaSc")},s=o("VU/8")(a.a,n.a,!1,i,null,null);s.options.__file="pages/kruzofpuzzle2.vue",t.default=s.exports},jaSc:function(e,t,o){var a=o("NL/D");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("df136a7e",a,!1,{sourceMap:!1})},nBVx:function(e,t,o){"use strict";this.current;console.log(this.current,"current"),Velocity.RegisterEffect("trans.slideUpIn",{defaultDuration:800,easing:"easeOutBack",calls:[[{opacity:[1,0],translateY:[0,50]}]]});window.console||(window.console={});for(var a=["log","debug","warn","info"],n=0;n<a.length;n++)console[a[n]]=function(){};t.a={components:{},asyncData:function(e){return{animals:e.env.animals,catImages:{Fish:"/images/fish2-back.jpg",Salmon:"/images/salmon-back.jpg",Invertebrates:"/images/crab-back.jpg",Mammals:"/images/mammal-back.jpg"},bones:{Scapula:{},Basihyoid:{},Sternal_Ribs:{},Ulna:{},Skull:{},Humerus:{},Ribs:{},Pelvis:{},Caudal_Vertebrae:{sizeClass:"half"},Cervical_Vertebrae:{},Chevrons:{sizeClass:"half"},Stylohyoid:{},Thoracic_Vertebrae:{sizeClass:"full"},Sternum:{},Digits:{},Metacarpal:{},Lumbar_Vertebrae:{sizeClass:"full"},Radius:{}},current:e.route.name,category:e.params.category,someObject:{width:2,height:3,top:1,left:0,img:1,categoryColor:"d"}}},plugins:[{src:"../js/kruzof.js",ssr:!1}],head:function(){return{title:this.name,script:[{src:"../js/three/build/three.min.js"},{src:"../js/three/controls/OrbitControlsSmooth.js"},{src:"../js/three/controls/DragControls.js"},{src:"../js/three/loaders/LoaderSupport.js"},{src:"../js/three/loaders/OBJLoader2.js"}]}},mounted:function(){},methods:{boneMouseDown:function(e){app.addBoneEvent=this.addBoneEvent,console.log("bonedown"),app.boneGrabbed=!0,app.selectedBone=e.target},addBoneEvent:function(e,t,o){console.log(this,"thisss",window);var a=document.getElementById("boneName"),n=e.getAttribute("data-bone").replace(" ","_"),r=e,i=app.orca.getObjectByName(n);console.log("addbone",e,app,app.orca.getObjectByName(n));var s=new THREE.Mesh(app.orca.getObjectByName(n).geometry.clone(),app.orca.getObjectByName(n).material),l=new THREE.MeshLambertMaterial({color:"#11619e"});s.material=l,s.geometry.computeBoundingBox();s.geometry.boundingBox;app.scene.add(s),s.position.copy(i.matrixWorld.getPosition());var c=new THREE.Plane,d=new THREE.Raycaster,p=new THREE.Vector2,m=new THREE.Vector3,u=new THREE.Vector3,g=null;g=s,i.updateMatrixWorld(),app.orca.updateMatrixWorld(),i.updateMatrixWorld();var b=new THREE.Object3D;b.add(s),s.geometry.center(),app.scene.add(b);var y,f,h=new THREE.Vector3;if(app.scene.updateMatrixWorld(),app.orca.getObjectByName(n).getWorldPosition(h),h.setFromMatrixPosition(app.orca.getObjectByName(n).matrixWorld),console.log("placeboneafter",i.matrixWorld.getPosition(),app.orca.matrixWorld.getPosition(),V,b.matrixWorld.getPosition()),console.log("matrix",i.matrixWorld.getPosition()),p.x=t,p.y=o,d.setFromCamera(p,app.camera),d.ray.intersectPlane(c,u)){(h=new THREE.Vector3).applyMatrix4(i.matrixWorld);var x=new THREE.SphereGeometry(1,32,32),v=new THREE.MeshBasicMaterial({color:16776960}),w=new THREE.Mesh(x,v);console.log(s.position,"po"),console.log(s.position,"po2"),w.material=v,w.position.copy(u);var E=new THREE.Vector3;app.scene.updateMatrixWorld(),i.updateMatrixWorld(),E.copy(i.matrixWorld.getPosition());var k=w.position.x-E.x,C=w.position.y-E.y,B=w.position.z-E.z;(h=new THREE.Vector3).copy(u),console.log("placebone",g.position,h,i.position,u,k,C,B),m.copy(u).sub(E),s.position.copy(u),app.orca.updateMatrixWorld();var V=new THREE.Vector3;app.scene.updateMatrixWorld(),i.updateMatrixWorld(),console.log("placeboneafter",i.matrixWorld.getPosition(),V,w.matrixWorld.getPosition(),g.matrixWorld.getPosition(),u,s.position,"sphere")}Velocity(e.querySelectorAll(".bone-mask"),{opacity:1},{duration:100}),Velocity(a,{translateY:[-10,0],opacity:0},{duration:300,easing:"easeOutBack",complete:function(e){console.log(a,e,"toooo"),a.innerHTML=n.replace("_"," ")}}),Velocity(a,{translateY:[10,0]},{duration:0}),Velocity(a,{translateY:[0,10],opacity:1},{duration:300,easing:"easeOutBack"}),console.log(s,"puxxlebone"),app.orca.getObjectByName(n).geometry.boundingBox;h=new THREE.Vector3;var j=!0,z=!1,M=i.geometry.boundingBox;i.geometry.computeBoundingBox();M=i.geometry.boundingBox;function S(e){y.geometry.boundingBox;var t,o,a,n,l,c,d,p,m,u,g=new THREE.Vector3;g=y.position,h.distanceTo(g)<.8&&1==j&&(j=!1,app.dragControls.enabled=!1,t=h,o=s,a=g,n=document.body,l=a.x,c=a.y,d=a.z,p=t.x-l,m=t.y-c,u=t.z-d,document.getElementById("example"),Velocity(n,{tween:[1,0]},{duration:600,progress:function(e,t,a,n,r){o.position.x=l+p*r,o.position.y=c+m*r,o.position.z=d+u*r},complete:function(e){Velocity(r.querySelectorAll(".bone-mask"),{backgroundColor:"#000000",opacity:.3},{duration:400}),Velocity(r.querySelectorAll("img"),{opacity:0},{duration:400})}}),function(e,t,o){e.material.transparent=!0;var a=e.material.opacity,n=t-a;document.getElementById("example"),Velocity(o,{tween:[1,0]},{duration:400,progress:function(t,o,r,s,l){i.material=new THREE.MeshLambertMaterial({color:"#6f6f6f"}),e.material.depthWrite=!1,e.material.opacity=a+n*l}})}(s,0,document.body),r.classList.add("disabled"),z=!0),f=requestAnimationFrame(S)}(h=new THREE.Vector3).subVectors(M.max,M.min),h.multiplyScalar(.5),h.add(M.min),h.applyMatrix4(i.matrixWorld);var _=[];_.push(s),y=s,app.dragControls=new THREE.DragControls(_,app.camera,app.renderer.domElement),app.dragControls.addEventListener("dragstart",function(e){S(),app.controls.enabled=!1}),app.dragControls.addEventListener("dragend",function(e){cancelAnimationFrame(f),app.controls.enabled=!0,1==z&&(app.dragControls.dispose(),z=!1)}),console.log(app.dragControls)},addBone:function(e){document.getElementById("boneName");var t=e.target.getAttribute("data-bone").replace(" ","_");e.target;this.addBoneEvent(e.target),console.log(t,"bone",e.target,this)},beforeEnter:function(e){console.log("beforeenter",e);var t=document.getElementsByClassName("animal-type-heading")[0];document.getElementsByClassName("animal-type-heading")[0];console.log("beforeenter",e,t),Velocity(t,{translateX:"-50px",opacity:0},{duration:0})},enter:function(e,t){console.log("enter",e);var o=document.getElementsByClassName("animal-type-heading")[0],a=(document.getElementsByClassName("animals-back-img")[0],document.getElementsByClassName("overlay-w")[0]),n=document.getElementsByClassName("row")[0],r=document.querySelectorAll(".animal-tile"),i=document.querySelectorAll(".animal-name-back");a.style.background=this.someObject.overlayColor,console.log(i,a,"background");var s=this.someObject.categoryColor;o.style.opacity=0,n.style.opacity=0,Velocity(o,{translateY:"10px"},{duration:0}),Velocity(n,{opacity:1},{duration:0}),Velocity(r,{translateY:"50px",opacity:0},{duration:0}),Velocity(o,{opacity:1,translateY:"0px"},{duration:400,easing:"easeInOutSine"}),Velocity(i,{backgroundColor:s,color:s},{duration:0}),Velocity(r,"trans.slideUpIn",{duration:800,stagger:75,drag:!0,easing:"easeOutBack",complete:function(e){t()}})},beforeLeave:function(e){console.log("beforeleave",e)},leave:function(e,t){console.log("leave",e);var o=document.getElementsByClassName("animal-type-heading")[0],a=document.getElementsByClassName("row")[0];document.querySelectorAll(".animal-tile"),document.getElementsByClassName("animals-back-img")[0];Velocity(o,{opacity:0,translateY:"-10px"},{duration:400,easing:"easeInOutSine"}),Velocity(a,{translateY:"-50px",opacity:0},{duration:400,easing:"easeOutBack",complete:function(e){t()}})},animalClass:function(e,t){function o(e,t){var o=parseInt(e.slice(1),16),a=t<0?0:255,n=t<0?-1*t:t,r=o>>16,i=o>>8&255,s=255&o;return"#"+(16777216+65536*(Math.round((a-r)*n)+r)+256*(Math.round((a-i)*n)+i)+(Math.round((a-s)*n)+s)).toString(16).slice(1)}var a=document.getElementById("start"),n=(document.getElementById("end"),document.getElementsByClassName("top-nav")[0]),r=document.getElementsByClassName("back-button")[0],i=e.target.getAttribute("data-hue"),s=e.target.getAttribute("data-hex"),l=document.querySelectorAll(".animal-name-back"),c=document.querySelector(".animals-back-img img:not(.active)");c.src=this.catImages[e.target.getAttribute("data-category")];var d=document.querySelector(".animals-back-img img.active");console.log(e.target,c,d,"ANimallssss"),c.classList.add("active"),d.classList.remove("active");var p="hsl("+i+",73%,22%)",m=o(s,.2),u=o(s,.4),g=o(s,.4),b=o(s,-.5);console.log("hue",e.target,p,g,b,l),Velocity(a,{stopColor:g},{duration:500,easing:"easeInOutSine"}),Velocity(end,{stopColor:b},{duration:500,easing:"easeInOutSine"}),n.style.backgroundColor=p,Velocity(r,{backgroundColor:b},{duration:500,easing:"easeInOutSine"}),this.$set(this.someObject,"categoryColor",u),this.$set(this.someObject,"overlayColor",m)}}}}});